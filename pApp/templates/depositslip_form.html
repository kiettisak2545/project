{% extends "navbar.html" %}
{% load static %}
{% block content %}
<form method="POST" id="order-form"> 
    {% csrf_token %}
    <div style="width: 30rem;">

    <!-- ฟอร์ม Order -->
    <div id="orders">
        <div class="order">
            <label for="order_name">Order Name:</label>
            <input type="text" name="deposit_ordername" required>

            <label for="price">Price:</label>                       
            <input type="number" name="deposit_price" required>

            <button type="button" class="btn btn-danger remove-order">ลบ</button>
        </div>
    </div>

    <!-- ปุ่มเพิ่ม Order -->
    <button type="button" id="add-order" class="btn btn-warning">เพิ่ม Order</button>
    <button type="submit" class="btn btn-success">สร้าง Orders</button>
</form>

<script>
    // เพิ่มแถว Order
    document.getElementById("add-order").addEventListener("click", function () {
        const ordersContainer = document.getElementById("orders");
        const newOrderDiv = document.createElement('div');
        newOrderDiv.classList.add('order');
        newOrderDiv.innerHTML = `
            <label for="order_name">Order Name:</label>
            <input type="text" name="deposit_ordername" required>

            <label for="price">Price:</label>
            <input type="number" name="deposit_price" required>

            <button type="button" class="btn btn-danger remove-order">ลบ</button>
        `;
        ordersContainer.appendChild(newOrderDiv);
    });

    // ลบแถว Order
    document.getElementById("orders").addEventListener("click", function (e) {
        if (e.target && e.target.classList.contains("remove-order")) {
            e.target.closest(".order").remove();
        }
    });
</script>
{% endblock %}
